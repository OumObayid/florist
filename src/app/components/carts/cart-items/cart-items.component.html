<!-- Version desktop du panier -->
<div
  class="cart-item w-100 d-none d-md-flex "
  [ngStyle]="{
    padding: '10px 0',
    display: 'flex',
    justifyContent: 'space-between',
    alignItems: 'center',
    borderBottom:'1px solid var(--vert-olive)'
  }"
>
  <!-- Section principale contenant les détails de l'article -->
  <div class="w-100">
    <!-- Nom du produit -->
    <h5 class="mb-3">{{ cartItem.nom }}</h5>

    <div class="d-flex justify-content-between align-items-center gap-3">
      <!-- Image cliquable de l'article qui redirige vers les détails du produit -->
      <a
        [routerLink]="['/product-details', cartItem.productId]"
        class="text-decoration-none text-reset"
      >
        <img
          [src]="cartItem.image"
          [alt]="cartItem.nom"
          [ngStyle]="{ width: '70px', height: '70px' }"
        />
      </a>

      <!-- Informations sur le prix et la quantité -->
      <div>
        <p [ngStyle]="{ margin: '5px 0' }">
          <strong>Prix unitaire:</strong>
          {{ cartItem.prix | number : "1.2-2" }} €
        </p>
        <p [ngStyle]="{ margin: '5px 0' }">
          <strong>Quantité:</strong> {{ cartItem.quantity }}
        </p>
      </div>

      <!-- Boutons pour incrémenter ou décrémenter la quantité -->
      <div class="d-flex align-items-center gap-2">
        <button
          (click)="incrementQuantity()"
          class="btn btn-light border rounded d-flex align-items-center justify-content-center"
          style="width: 35px; height: 35px; font-size: 18px"
        >
          +
        </button>

        <button
          (click)="decrementQuantity()"
          class="btn btn-light border rounded d-flex align-items-center justify-content-center"
          style="width: 35px; height: 35px; font-size: 18px"
        >
          -
        </button>
      </div>

      <!-- Bouton supprimer l'article -->
      <div
        class="text-danger"
        style="cursor: pointer; font-weight: 500"
        (click)="onRemoveItem()"
      >
        Supprimer
      </div>

      <!-- Affichage du total pour cet article -->
      <div class="d-flex flex-column text-end ms-3">
        <span class="fw-bold">Total</span>
        <span>{{ totalItemPrice.toFixed(2) }} €</span>
      </div>
    </div>
  </div>
</div>

<!-- Version mobile du panier -->
<div class="cart-item-mobile d-flex d-md-none flex-column w-100 p-2 border-bottom" style="border-color: var(--vert-olive);">
  
  <!-- Nom du produit -->
  <h5 class="mb-2">{{ cartItem.nom }}</h5>

  <!-- Image et informations principales du produit -->
  <div class="d-flex align-items-center justify-content-between mb-2">
    <a [routerLink]="['/product-details', cartItem.productId]" class="text-decoration-none text-reset">
      <img [src]="cartItem.image" [alt]="cartItem.nom" style="width:70px; height:70px; object-fit:cover;">
    </a>
    <div class="ms-2 d-flex flex-column justify-content-center">
      <p class="mb-1"><strong>Prix unitaire:</strong> {{ cartItem.prix | number:'1.2-2' }} €</p>
      <p class="mb-0"><strong>Quantité:</strong> {{ cartItem.quantity }}</p>
    </div>
  </div>

  <!-- Boutons mobile : incrément, décrément et supprimer -->
  <div class="d-flex justify-content-between align-items-center gap-2 mb-2">
    <button (click)="incrementQuantity()" class="btn btn-light border rounded" style="width:35px; height:35px; font-size:18px;">+</button>
    
    <div (click)="onRemoveItem()" class="text-danger d-flex align-items-center justify-content-center"
         style="cursor:pointer; font-weight:500; width:70px; height:35px;">
      Supprimer
    </div>
    
    <button (click)="decrementQuantity()" class="btn btn-light border rounded" style="width:35px; height:35px; font-size:18px;">-</button>
  </div>

  <!-- Total pour cet article sur mobile -->
  <div class="fw-bold text-end">
    Total: {{ totalItemPrice.toFixed(2) }} €
  </div>
</div>
